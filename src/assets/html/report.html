<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrition Report</title>
    <link rel="stylesheet" href="../css/report.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>Report</h1>
    </header>
    
    <div class="goal" onclick="goToGoalPage()">
        <h2>Goal <span id="goalIcon">ðŸŽ¯</span></h2>
        <span id="rdiValue">Loading...</span>
    </div>
    
    <div class="container">
        <div class="navigator">
            <div class="nav-item">
                <span id="nav-title">This Week</span>
                <button class="dropbtn" onclick="toggleDropdown()">â–¼</button>
                <div id="dropdown-content" class="dropdown-content">
                    <div onclick="changePeriod('today')">Today</div>
                    <div onclick="changePeriod('yesterday')">Yesterday</div>
                    <div onclick="changePeriod('thisWeek')">This Week</div>
                    <div onclick="changePeriod('lastWeek')">Last Week</div>
                </div>
            </div>
        </div>        
        
        <div class="chart-container">
            <canvas id="nutritionChart"></canvas>
        </div>
        
        <div class="category-summary">
            <div id="categoryDetails"></div>
        </div>
        
        <div class="food-summary">
            <h2>Foods Eaten</h2>
            <table id="foodTable">
                <thead>
                    <tr>
                        <th>Food</th>
                        <th>Times Eaten</th>
                        <th>Calories (kcal)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Food items will be inserted here dynamically -->
                </tbody>
            </table>
        </div>
    </div>
    
    <footer>
        <div onclick="location.href='../html/home.html'" class="footer-icon home-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            <p>Home</p>
        </div>
        <div onclick="location.href='../html/nutrition.html'" class="footer-icon nutrition-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M12 2C8.13 2 5 5.13 5 9c0 2.74 1.56 5.13 4 6.32V20H7v2h10v-2h-2v-4.68c2.44-1.19 4-3.58 4-6.32 0-3.87-3.13-7-7-7zm0 11c-2.21 0-4-1.79-4-4 0-2.21 1.79-4 4-4s4 1.79 4 4c0 2.21-1.79 4-4 4z"/></svg>
            <p>Nutrition</p>
        </div>
        <div onclick="location.href='../html/report.html'" class="footer-icon report-icon active">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H8v-2h4v2zm3-4H8v-2h7v2zm2-4H8V7h9v2z"/></svg>
            <p>Report</p>
        </div>
        <div onclick="location.href='../html/profile.html'" class="footer-icon profile-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M12 12c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            <p>Profile</p>
        </div>
    </footer>
    <script src="../js/report.js"></script>
</body>
</html>
